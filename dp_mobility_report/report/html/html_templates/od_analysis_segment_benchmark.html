{% if flows_cumsum_linechart %}
<div>
    <h3>OD flows between tiles         
        <button type="button" class="btn btn-outline-dark btn-sm" data-toggle="tooltip" data-placement="center" 
        title="The following visualization shows the OD flows between the tiles (according to the provided tessellation) for the base and the alternative dataset as well as the intra-tile flow deviations. These three visualizations can be chosen in the layer control. 
        The origin of the OD flows is indicated by a small circle and by clicking on one OD connection, information on the origin and destination cell name as well as the number of OD connections will show up. 
        The legend for the intra-tile flow deviations are below and range from -2 to 2. The intra-tile flow is defined as the number of OD connections that start and end in the same tile. This visualizations shows the deviation of intra-tile flows of the alternative dataset from the base dataset.">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-info-circle" viewBox="0 0 16 16">
            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
            <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
          </svg>
        </button>
    </h3>
    <p>privacy budget base: {{od_eps[0]}}</p>
    <p>95% CI base: +/-{{od_moe[0]}}</p>
    <p>privacy budget alternative: {{od_eps[1]}}</p>
    <p>95% CI alternative: +/-{{od_moe[1]}}</p>
    <div>

        <iframe src="{{output_filename}}/maps/od_map.html" width="100%" height="600" style="border:1px solid black;">
        </iframe>
        <!-- <div style="width: 800px; height: 600px;">
            {{od_map}}
        </div> -->

        <p class="grey info">
            {{user_config_info}}
        </p>
        
        <div>
            {{od_legend}}
        </div>
        {{flows_measure}}

<!--        <p>    
            {{intra_tile_flows_info}}
        </p>
        
        <p class = "info">
            A large number of intra-cell flows either indicate many round-trips 
            (i.e., start and end location are the same) 
            or the start and end location lie within the same tile due to a coarse tessellation.
        </p>
    -->
    </div>

    <div>
        <div>
            <h4>Five number summary: flows per OD pair</h4>
            {{flows_summary_table}}
            {{flows_summary_measure}}
        </div>
        <div>
            <h4>Cumulated sum of flows per OD pair</h4>
            {{flows_cumsum_linechart}}
            <p class="info">
                The cumulated sum of flows visualizes the distribution of flows over OD pairs:
                If all OD connections are traveled equally, the cumulated sum follows a straight diagonal line. 
                The larger the share of single OD connections in the total number of flows, the steeper the curve.
            </p>
        </div>
    </div>  
    
    <div>
        <h4>Ranking of most frequent OD connections</h4>
        {{most_freq_flows_ranking}}
        {{od_flows_ranking_measure}}
    </div>
</div>
{% endif %}

{% if travel_time_hist or jump_length_hist %}
<div>
    {% if travel_time_hist %}
    <div>
        <h3>Travel time of trips (in minutes)</h3>
        <p>privacy budget base: {{travel_time_eps[0]}}</p>
        <p>95% CI base: +/-: {{travel_time_moe[0]}}</p>
        <p>privacy budget alternative: {{travel_time_eps[1]}}</p>
        <p>95% CI alternative: +/-: {{travel_time_moe[1]}}</p>
        <div>
            {{travel_time_hist}}
            <p class="grey info">
                {{travel_time_hist_info}}
            </p>
            {{travel_time_measure}}
        </div>
        <div>
            <h4>Five number summary: travel time</h4>
            {{travel_time_summary_table}}
            <p class="info">
                {{travel_time_moe_info}}
            </p>
            {{travel_time_summary_measure}}
        </div>
    </div>
    {% endif %} 

    {% if jump_length_hist %}  
    <div>
        <h3>Jump length (in kilometers)</h3>
        <p>privacy budget base: {{jump_length_eps[0]}}</p>
        <p>95% CI base: +/- {{jump_length_moe[0]}}</p>
        <p>privacy budget alternative: {{jump_length_eps[1]}}</p>
        <p>95% CI alterative: +/- {{jump_length_moe[1]}}</p>
        <p class="info">The jump length is the straight-line distance between the origin and destination.</p>
        <div>
            {{jump_length_hist}}
            <p class="grey info">
                {{jump_length_hist_info}}
            </p>
            {{jump_length_measure}}
        </div>  
        <div>
            <h4>Five number summary: jump length</h4>
            {{jump_length_summary_table}}
            <p class="info">
                {{jump_length_moe_info}}
            </p>
            {{jump_length_summary_measure}}
        </div>
    </div>
    {% endif %}
</div>
{% endif %}